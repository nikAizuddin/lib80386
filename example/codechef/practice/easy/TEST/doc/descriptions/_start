         1         2         3         4         5         6         7
1234567890123456789012345678901234567890123456789012345678901234567890
======================================================================

           FUNCTION: _start

        DESCRIPTION: Program's main function

           REQUIRES: read4096b_stdin.asm,
                     string_append.asm

               BUGS: ---

FUTURE IMPROVEMENTS: ---

----------------------------------------------------------------------

PROCESS DESCRIPTION:

  +----------------------------------------------------------------+
  |                   BSS SEGMENT INFORMATION                      |
  +--------------+-------------------------------------------------+
  |     Data     |                    Value                        |
  +--------------+-------------------------------------------------+
  | rb           |                 resd 1025                       |
  | rb_ptr       |                 resd 1                          |
  | rb_byte_pos  |                 resd 1                          |
  +--------------+-------------------------------------------------+
  | input_string |                 resd 1                          |
  | input_strlen |                 resd 1                          |
  +--------------+-------------------------------------------------+

  +----------------------------------------------------------------+
  |                 RODATA SEGMENT INFORMATION                     |
  +--------------+--------+----------------------------------------+
  |     Data     |  Size  |                 Value                  |
  +--------------+--------+----------------------------------------+
  | newline      | 32-bit |              0x0000000a                |
  +--------------+--------+----------------------------------------+

       begin

           .loop:
  001:         input_string = 0;
  002:         read4096b_stdin( @rb,
                                @rb_ptr,
                                @rb_byte_pos,
                                @input_string,
                                @input_strlen,
                                0 );
  003:         if input_string == 0x3234, goto .endloop;
  004:         string_append( @input_string,
                              @input_strlen,
                              @newline,
                              1 );
  005:         write( stdout, @input_string, input_strlen );
  006:         goto .loop;
           .endloop:

       end.

======================================================================
